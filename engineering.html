<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crossfire - Engineering</title>
    <link rel="stylesheet" href="styles/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <div id="logoutButtonContainer" style="display: none;">
            <button id="logoutButton">Logout</button>
        </div>
        <div id="timerDisplay"
             style="position: fixed; top: 10px; left: 10px; font-size: 16px; background: #fff; padding: 5px; border: 1px solid #ccc; cursor: pointer;">
            Login Time Left (Click to reset): <span id="timeLeft">15:00</span>
        </div>
        <div>
    
                <img src="images/CrossfireLogo.png" alt="Bold Crossfire logo" width="650" height="700">
                <div id="notifications" style="position: fixed; top: 10px; right: 10px; cursor: pointer;">
                    <img src="images/notif-icon.png" alt="Notifications" id="notifIcon" />
                    <span id="notifBadge" style="background-color: red; color: white; border-radius: 50%; padding: 2px 6px; font-size: 12px; display: none;">0</span>
                    <div id="notifDropdown" style="display: none; position: absolute; top: 30px; right: 0; background: white; border: 1px solid #ccc; padding: 10px; max-width: 300px;">
                        <h4>Notifications</h4>
                        <ul id="notifList" style="list-style: none; padding: 0; margin: 0;"></ul>
                    </div>
                </div>
                
            </header>

    <nav>
        <ul id="navList">
            <li data-link="Home"><a href="index.html">Home</a></li>
            <li data-link="Create NCR"><a href="qualityInspector.html">Create NCR</a></li>
            <li data-link="NCR Storage"><a href="storeNCR.html">NCR Storage</a></li>
            <li data-link="Engineering"><a href="engineering.html">Engineering</a></li>
            <li data-link="Operations"><a href="operations.html">Operations</a></li>
        </ul>
    </nav>

    <main>
        <h1>Engineering - NCR Form</h1>
        <form id="engineering-form" action="#" method="post" enctype="multipart/form-data">
            <div id="form-sections">
                <!-- Supplier and Product Info Section -->
                <div class="accordion-section">
                    <div class="accordion-header">Supplier and Product Info</div>
                    <div class="accordion-content">
                        <fieldset>
                            <legend>Supplier and Product Info</legend>
                            <label for="supName">Supplier Name*</label>
                            <input id="supName" name="supName" type="text" placeholder="Pepsi Co.." required>
                            <label for="ncrNo">NCR No.*</label>
                            <input id="ncrNo" name="ncrNo" type="text" placeholder="65789" required>
                            <label for="prodNo">PO or Prod. No.*</label>
                            <input id="prodNo" name="prodNo" type="text" placeholder="Product number" required>
                            <label for="saleOrderNo">Sales Order No.*</label>
                            <input id="saleOrderNo" name="saleOrderNo" type="text" placeholder="9998877" required>
                            <label for="quantityR">Quantity Received*</label>
                            <input id="quantityR" name="quantityR" type="text" placeholder="10" required>
                            <label for="quantityD">Quantity Defective*</label>
                            <input id="quantityD" name="quantityD" type="text" placeholder="15" required>
                        </fieldset>
                    </div>
                </div>

                <!-- Report Details Section -->
                <div class="accordion-section">
                    <div class="accordion-header">Report Details</div>
                    <div class="accordion-content">
                        <fieldset>
                            <legend>Report Details</legend>
                            <label for="reportDate">Date of Report*</label>
                            <input id="reportDate" name="reportDate" type="date" required>
                            <label for="repName">Quality Representative's Name*</label>
                            <input id="repName" name="repName" type="text" placeholder="John Wick" required>
                            <label for="itemDescription">Description of Item*</label>
                            <textarea id="itemDescription" name="itemDescription" placeholder="Describe the item here" required></textarea>
                            <label for="defectDescription">Description of Defect*</label>
                            <textarea id="defectDescription" name="defectDescription" placeholder="Describe the defect" required></textarea>
                        </fieldset>
                    </div>
                </div>

                <!-- Engineering Action Section -->
                <div class="accordion-section">
                    <div class="accordion-header">Engineering Action</div>
                    <div class="accordion-content">
                        <fieldset>
                            <legend>Engineering Action</legend>
                            <label for="selectDisposition">Disposition*</label>
                            <select id="selectDisposition" name="selectDisposition" required>
                                <option value="useAsIs">Use as Is</option>
                                <option value="repair">Repair</option>
                                <option value="rework">Rework</option>
                                <option value="scrap">Scrap</option>
                            </select>
                            <label for="dispositionDescription">Disposition Description*</label>
                            <textarea id="dispositionDescription" name="dispositionDescription" placeholder="Describe steps if 'repair' or 'rework' indicated" required></textarea>
                            <label for="txtEngName">Engineer Name*</label>
                            <input id="txtEngName" name="txtEngName" type="text" placeholder="Engineer Name" required>
                        </fieldset>
                    </div>
                </div>

                <!-- Drawing Update Section -->
                <div class="accordion-section">
                    <div class="accordion-header">Drawing Update</div>
                    <div class="accordion-content">
                        <fieldset>
                            <legend>Drawing Update</legend>
                            <label>Does the drawing require updating?</label>
                            <label for="rdoRedrawYes">Yes</label>
                            <input type="radio" id="rdoRedrawYes" name="drawingUpdate" value="yes" required>
                            <label for="rdoRedrawNo">No</label>
                            <input type="radio" id="rdoRedrawNo" name="drawingUpdate" value="no">
                        </fieldset>
                    </div>
                </div>
            </div>

            <div class="button-container">
                <button id="btnSave" type="button">Save</button>
                <button id="btnSubmit" type="submit">Submit</button>
                <button id="btnClear" type="reset">Clear</button>
            </div>
        </form>
    </main>

    <script src="scripts/app.js"></script>
    <script src="scripts/session.js"></script>
    <script src="scripts/notif.js"></script>
    <script>
        // Initialize Accordion Functionality
        document.addEventListener("DOMContentLoaded", () => {
            document.querySelectorAll(".accordion-header").forEach(header => {
                header.addEventListener("click", () => {
                    const content = header.nextElementSibling;
                    content.style.display = content.style.display === "block" ? "none" : "block";
                });
            });

            // Initially collapse all sections except the first one
            document.querySelectorAll(".accordion-content").forEach((content, index) => {
                content.style.display = index === 0 ? "block" : "none";
            });
        });
    </script>
</body>

</html>
